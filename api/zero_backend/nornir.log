2022-08-22 21:48:03,376 -  nornir.core -     INFO -        run() - Running task 'send_command' with args {'command': 'show ntp config'} on 1 hosts
2022-08-22 21:48:03,383 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'send_command' failed with traceback:
Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 99, in start
    r = self.task(self, **self.params)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir_scrapli\tasks\core\send_command.py", line 36, in send_command
    scrapli_conn = task.host.get_connection("scrapli", task.nornir.config)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\inventory.py", line 494, in get_connection
    self.open_connection(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\inventory.py", line 546, in open_connection
    conn_obj.open(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir_scrapli\connection.py", line 98, in open
    connection = Scrapli(**parameters, platform=final_platform)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\factory.py", line 506, in __new__
    final_conn = final_driver(**final_kwargs)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\core\cisco_iosxe\sync_driver.py", line 127, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\network\sync_driver.py", line 48, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\generic\sync_driver.py", line 47, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\base\sync_driver.py", line 15, in __init__
    super().__init__(**kwargs)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\base\base_driver.py", line 187, in __init__
    self.transport = transport_class(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\transport\plugins\system\transport.py", line 60, in __init__
    raise ScrapliUnsupportedPlatform("system transport is not supported on windows devices")
scrapli.exceptions.ScrapliUnsupportedPlatform: system transport is not supported on windows devices

2022-08-22 21:54:59,504 -  nornir.core -     INFO -        run() - Running task 'send_command' with args {'command': 'show ntp config'} on 1 hosts
2022-08-22 21:55:06,385 -  nornir.core -     INFO -        run() - Running task 'send_command' with args {'command': 'show ntp config'} on 1 hosts
2022-08-22 21:55:06,394 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'send_command' failed with traceback:
Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 99, in start
    r = self.task(self, **self.params)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir_scrapli\tasks\core\send_command.py", line 36, in send_command
    scrapli_conn = task.host.get_connection("scrapli", task.nornir.config)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\inventory.py", line 494, in get_connection
    self.open_connection(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\inventory.py", line 546, in open_connection
    conn_obj.open(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir_scrapli\connection.py", line 98, in open
    connection = Scrapli(**parameters, platform=final_platform)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\factory.py", line 506, in __new__
    final_conn = final_driver(**final_kwargs)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\core\cisco_iosxe\sync_driver.py", line 127, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\network\sync_driver.py", line 48, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\generic\sync_driver.py", line 47, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\base\sync_driver.py", line 15, in __init__
    super().__init__(**kwargs)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\base\base_driver.py", line 187, in __init__
    self.transport = transport_class(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\transport\plugins\system\transport.py", line 60, in __init__
    raise ScrapliUnsupportedPlatform("system transport is not supported on windows devices")
scrapli.exceptions.ScrapliUnsupportedPlatform: system transport is not supported on windows devices

2022-08-22 21:55:41,513 -  nornir.core -     INFO -        run() - Running task 'send_command' with args {'command': 'show ntp config'} on 1 hosts
2022-08-22 21:55:41,520 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'send_command' failed with traceback:
Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 99, in start
    r = self.task(self, **self.params)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir_scrapli\tasks\core\send_command.py", line 36, in send_command
    scrapli_conn = task.host.get_connection("scrapli", task.nornir.config)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\inventory.py", line 494, in get_connection
    self.open_connection(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\inventory.py", line 546, in open_connection
    conn_obj.open(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir_scrapli\connection.py", line 98, in open
    connection = Scrapli(**parameters, platform=final_platform)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\factory.py", line 506, in __new__
    final_conn = final_driver(**final_kwargs)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\core\cisco_iosxe\sync_driver.py", line 127, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\network\sync_driver.py", line 48, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\generic\sync_driver.py", line 47, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\base\sync_driver.py", line 15, in __init__
    super().__init__(**kwargs)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\base\base_driver.py", line 187, in __init__
    self.transport = transport_class(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\transport\plugins\system\transport.py", line 60, in __init__
    raise ScrapliUnsupportedPlatform("system transport is not supported on windows devices")
scrapli.exceptions.ScrapliUnsupportedPlatform: system transport is not supported on windows devices

2022-08-22 21:56:13,849 -  nornir.core -     INFO -        run() - Running task 'send_command' with args {'command': 'show ntp config'} on 1 hosts
2022-08-22 21:56:13,857 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'send_command' failed with traceback:
Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 99, in start
    r = self.task(self, **self.params)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir_scrapli\tasks\core\send_command.py", line 36, in send_command
    scrapli_conn = task.host.get_connection("scrapli", task.nornir.config)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\inventory.py", line 494, in get_connection
    self.open_connection(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\inventory.py", line 546, in open_connection
    conn_obj.open(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir_scrapli\connection.py", line 98, in open
    connection = Scrapli(**parameters, platform=final_platform)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\factory.py", line 506, in __new__
    final_conn = final_driver(**final_kwargs)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\core\cisco_iosxe\sync_driver.py", line 127, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\network\sync_driver.py", line 48, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\generic\sync_driver.py", line 47, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\base\sync_driver.py", line 15, in __init__
    super().__init__(**kwargs)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\base\base_driver.py", line 187, in __init__
    self.transport = transport_class(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\transport\plugins\system\transport.py", line 60, in __init__
    raise ScrapliUnsupportedPlatform("system transport is not supported on windows devices")
scrapli.exceptions.ScrapliUnsupportedPlatform: system transport is not supported on windows devices

2022-08-22 21:57:06,265 -  nornir.core -     INFO -        run() - Running task 'send_command' with args {'command': 'show ntp config'} on 1 hosts
2022-08-22 21:57:06,272 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'send_command' failed with traceback:
Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 99, in start
    r = self.task(self, **self.params)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir_scrapli\tasks\core\send_command.py", line 36, in send_command
    scrapli_conn = task.host.get_connection("scrapli", task.nornir.config)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\inventory.py", line 494, in get_connection
    self.open_connection(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\inventory.py", line 546, in open_connection
    conn_obj.open(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir_scrapli\connection.py", line 98, in open
    connection = Scrapli(**parameters, platform=final_platform)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\factory.py", line 506, in __new__
    final_conn = final_driver(**final_kwargs)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\core\cisco_iosxe\sync_driver.py", line 127, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\network\sync_driver.py", line 48, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\generic\sync_driver.py", line 47, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\base\sync_driver.py", line 15, in __init__
    super().__init__(**kwargs)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\base\base_driver.py", line 187, in __init__
    self.transport = transport_class(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\transport\plugins\system\transport.py", line 60, in __init__
    raise ScrapliUnsupportedPlatform("system transport is not supported on windows devices")
scrapli.exceptions.ScrapliUnsupportedPlatform: system transport is not supported on windows devices

2022-08-22 22:06:40,311 -  nornir.core -     INFO -        run() - Running task 'send_command' with args {'command': 'show ntp config'} on 1 hosts
2022-08-22 22:06:40,318 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'send_command' failed with traceback:
Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 99, in start
    r = self.task(self, **self.params)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir_scrapli\tasks\core\send_command.py", line 36, in send_command
    scrapli_conn = task.host.get_connection("scrapli", task.nornir.config)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\inventory.py", line 494, in get_connection
    self.open_connection(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\inventory.py", line 546, in open_connection
    conn_obj.open(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir_scrapli\connection.py", line 98, in open
    connection = Scrapli(**parameters, platform=final_platform)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\factory.py", line 506, in __new__
    final_conn = final_driver(**final_kwargs)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\core\cisco_iosxe\sync_driver.py", line 127, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\network\sync_driver.py", line 48, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\generic\sync_driver.py", line 47, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\base\sync_driver.py", line 15, in __init__
    super().__init__(**kwargs)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\base\base_driver.py", line 187, in __init__
    self.transport = transport_class(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\transport\plugins\system\transport.py", line 60, in __init__
    raise ScrapliUnsupportedPlatform("system transport is not supported on windows devices")
scrapli.exceptions.ScrapliUnsupportedPlatform: system transport is not supported on windows devices

2022-08-22 22:16:58,599 -  nornir.core -     INFO -        run() - Running task 'send_command' with args {'command': 'show version '} on 1 hosts
2022-08-22 22:16:58,605 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'send_command' failed with traceback:
Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 99, in start
    r = self.task(self, **self.params)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir_scrapli\tasks\core\send_command.py", line 36, in send_command
    scrapli_conn = task.host.get_connection("scrapli", task.nornir.config)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\inventory.py", line 494, in get_connection
    self.open_connection(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\inventory.py", line 546, in open_connection
    conn_obj.open(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir_scrapli\connection.py", line 98, in open
    connection = Scrapli(**parameters, platform=final_platform)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\factory.py", line 506, in __new__
    final_conn = final_driver(**final_kwargs)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\core\cisco_iosxe\sync_driver.py", line 127, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\network\sync_driver.py", line 48, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\generic\sync_driver.py", line 47, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\base\sync_driver.py", line 15, in __init__
    super().__init__(**kwargs)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\base\base_driver.py", line 187, in __init__
    self.transport = transport_class(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\transport\plugins\system\transport.py", line 60, in __init__
    raise ScrapliUnsupportedPlatform("system transport is not supported on windows devices")
scrapli.exceptions.ScrapliUnsupportedPlatform: system transport is not supported on windows devices

2022-08-22 22:23:02,885 -  nornir.core -     INFO -        run() - Running task 'send_command' with args {'command': 'show version '} on 1 hosts
2022-08-22 22:23:02,893 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'send_command' failed with traceback:
Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 99, in start
    r = self.task(self, **self.params)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir_scrapli\tasks\core\send_command.py", line 36, in send_command
    scrapli_conn = task.host.get_connection("scrapli", task.nornir.config)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\inventory.py", line 494, in get_connection
    self.open_connection(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\inventory.py", line 546, in open_connection
    conn_obj.open(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir_scrapli\connection.py", line 98, in open
    connection = Scrapli(**parameters, platform=final_platform)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\factory.py", line 506, in __new__
    final_conn = final_driver(**final_kwargs)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\core\cisco_iosxe\sync_driver.py", line 127, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\network\sync_driver.py", line 48, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\generic\sync_driver.py", line 47, in __init__
    super().__init__(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\base\sync_driver.py", line 15, in __init__
    super().__init__(**kwargs)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\driver\base\base_driver.py", line 187, in __init__
    self.transport = transport_class(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\scrapli\transport\plugins\system\transport.py", line 60, in __init__
    raise ScrapliUnsupportedPlatform("system transport is not supported on windows devices")
scrapli.exceptions.ScrapliUnsupportedPlatform: system transport is not supported on windows devices

2022-08-22 22:29:30,358 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 22:33:52,970 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 22:33:54,072 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 99, in start
    r = self.task(self, **self.params)
  File "C:\Projects\zero_touch\api\zero_backend\zero_touch_api\views.py", line 22, in another_show_command_test
    task.host["facts"] = interfaces_result.genie_parse_output()
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 255, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'genie_parse_output'

2022-08-22 22:34:25,887 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 22:34:26,709 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 99, in start
    r = self.task(self, **self.params)
  File "C:\Projects\zero_touch\api\zero_backend\zero_touch_api\views.py", line 22, in another_show_command_test
    task.host["facts"] = interfaces_result.genie_parse_output()
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 255, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'genie_parse_output'

2022-08-22 22:37:51,466 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 22:38:33,802 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 22:38:34,765 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 99, in start
    r = self.task(self, **self.params)
  File "C:\Projects\zero_touch\api\zero_backend\zero_touch_api\views.py", line 24, in another_show_command_test
    print(interfaces_result["intf"])
TypeError: list indices must be integers or slices, not str

2022-08-22 23:00:00,106 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:00:39,030 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:01:29,270 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:01:54,294 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:02:05,018 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:02:06,272 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:02:49,648 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:03:14,587 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:03:32,870 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:03:48,962 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:04:13,358 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:04:35,834 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:04:57,476 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:05:20,968 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:05:30,523 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:06:11,092 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:07:14,174 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:07:59,159 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:07:59,980 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 99, in start
    r = self.task(self, **self.params)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir_netmiko\tasks\netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\netmiko\utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\netmiko\base_connection.py", line 1729, in send_command
    return_val = structured_data_converter(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\netmiko\utilities.py", line 577, in structured_data_converter
    structured_output_genie = get_structured_data_genie(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\netmiko\utilities.py", line 500, in get_structured_data_genie
    raise ValueError(msg)
ValueError: 
Genie and PyATS are not installed. Please PIP install both Genie and PyATS:
pip install genie
pip install pyats


2022-08-22 23:07:59,981 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 99, in start
    r = self.task(self, **self.params)
  File "C:\Projects\zero_touch\api\zero_backend\zero_touch_api\views.py", line 19, in another_show_command_test
    interfaces_result = task.run(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-08-22 23:12:58,665 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:15:50,326 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:15:51,479 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 99, in start
    r = self.task(self, **self.params)
  File "C:\Projects\zero_touch\api\zero_backend\zero_touch_api\views.py", line 25, in another_show_command_test
    print(interfaces_result.result["intf"])
TypeError: list indices must be integers or slices, not str

2022-08-22 23:16:05,532 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:16:46,489 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:16:47,735 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 99, in start
    r = self.task(self, **self.params)
  File "C:\Projects\zero_touch\api\zero_backend\zero_touch_api\views.py", line 25, in another_show_command_test
    print(ast.literal_eval(interfaces_result.result))
NameError: name 'ast' is not defined

2022-08-22 23:17:00,691 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:17:01,609 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 99, in start
    r = self.task(self, **self.params)
  File "C:\Projects\zero_touch\api\zero_backend\zero_touch_api\views.py", line 26, in another_show_command_test
    print(ast.literal_eval(interfaces_result.result))
  File "C:\Users\idan5\AppData\Local\Programs\Python\Python310\lib\ast.py", line 108, in literal_eval
    return _convert(node_or_string)
  File "C:\Users\idan5\AppData\Local\Programs\Python\Python310\lib\ast.py", line 107, in _convert
    return _convert_signed_num(node)
  File "C:\Users\idan5\AppData\Local\Programs\Python\Python310\lib\ast.py", line 81, in _convert_signed_num
    return _convert_num(node)
  File "C:\Users\idan5\AppData\Local\Programs\Python\Python310\lib\ast.py", line 72, in _convert_num
    _raise_malformed_node(node)
  File "C:\Users\idan5\AppData\Local\Programs\Python\Python310\lib\ast.py", line 69, in _raise_malformed_node
    raise ValueError(msg + f': {node!r}')
ValueError: malformed node or string: [{'intf': 'Ethernet0/0', 'ipaddr': '192.168.19.101', 'status': 'up', 'proto': 'up'}, {'intf': 'Ethernet0/1', 'ipaddr': 'unassigned', 'status': 'administratively down', 'proto': 'down'}, {'intf': 'Ethernet0/2', 'ipaddr': 'unassigned', 'status': 'administratively down', 'proto': 'down'}, {'intf': 'Ethernet0/3', 'ipaddr': 'unassigned', 'status': 'administratively down', 'proto': 'down'}]

2022-08-22 23:18:28,912 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:18:30,138 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 99, in start
    r = self.task(self, **self.params)
  File "C:\Projects\zero_touch\api\zero_backend\zero_touch_api\views.py", line 26, in another_show_command_test
    print(ast.literal_eval(interfaces_result.result[1:-1]))
  File "C:\Users\idan5\AppData\Local\Programs\Python\Python310\lib\ast.py", line 108, in literal_eval
    return _convert(node_or_string)
  File "C:\Users\idan5\AppData\Local\Programs\Python\Python310\lib\ast.py", line 107, in _convert
    return _convert_signed_num(node)
  File "C:\Users\idan5\AppData\Local\Programs\Python\Python310\lib\ast.py", line 81, in _convert_signed_num
    return _convert_num(node)
  File "C:\Users\idan5\AppData\Local\Programs\Python\Python310\lib\ast.py", line 72, in _convert_num
    _raise_malformed_node(node)
  File "C:\Users\idan5\AppData\Local\Programs\Python\Python310\lib\ast.py", line 69, in _raise_malformed_node
    raise ValueError(msg + f': {node!r}')
ValueError: malformed node or string: [{'intf': 'Ethernet0/1', 'ipaddr': 'unassigned', 'status': 'administratively down', 'proto': 'down'}, {'intf': 'Ethernet0/2', 'ipaddr': 'unassigned', 'status': 'administratively down', 'proto': 'down'}]

2022-08-22 23:19:26,986 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:19:27,948 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 99, in start
    r = self.task(self, **self.params)
  File "C:\Projects\zero_touch\api\zero_backend\zero_touch_api\views.py", line 26, in another_show_command_test
    print(ast.literal_eval(interfaces_result.result.lstrip("[").rstrip("]")))
AttributeError: 'list' object has no attribute 'lstrip'

2022-08-22 23:19:56,806 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:22:14,865 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-22 23:22:48,512 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 20:52:32,032 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 20:52:45,450 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 20:52:49,897 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 20:57:28,976 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 21:44:44,811 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 21:46:59,002 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 21:47:29,770 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 21:47:55,439 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 21:50:41,661 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 21:51:06,781 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 21:55:33,352 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 21:56:50,843 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 21:57:17,809 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:12:40,109 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:12:55,145 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:13:59,032 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:14:51,805 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:16:00,084 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:18:07,448 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:18:34,385 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:18:44,175 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:20:50,039 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:21:36,394 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:22:01,818 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:23:29,412 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:24:10,599 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:25:20,871 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:25:26,547 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:25:48,767 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:26:30,934 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:26:32,035 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:27:37,883 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:28:24,977 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:30:06,112 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:30:34,417 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:35:26,219 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:35:35,669 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:35:44,603 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:36:30,848 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:36:58,952 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-08-23 22:43:12,103 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-09-20 09:38:51,283 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-09-20 09:39:01,700 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\netmiko\base_connection.py", line 1046, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\paramiko\client.py", line 349, in connect
    retry_on_signal(lambda: sock.connect(addr))
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\paramiko\util.py", line 279, in retry_on_signal
    return function()
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\paramiko\client.py", line 349, in <lambda>
    retry_on_signal(lambda: sock.connect(addr))
TimeoutError: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 99, in start
    r = self.task(self, **self.params)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir_netmiko\tasks\netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\inventory.py", line 494, in get_connection
    self.open_connection(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\inventory.py", line 546, in open_connection
    conn_obj.open(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir_netmiko\connections\netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\netmiko\ssh_dispatcher.py", line 365, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\netmiko\base_connection.py", line 439, in __init__
    self._open()
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\netmiko\base_connection.py", line 444, in _open
    self.establish_connection()
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\netmiko\base_connection.py", line 1068, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_ios 192.168.19.101:22



2022-09-20 09:39:01,701 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 99, in start
    r = self.task(self, **self.params)
  File "C:\Projects\zero_touch\api\zero_backend\zero_touch_api\views.py", line 21, in another_show_command_test
    interfaces_result = task.run(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-09-20 13:31:09,789 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-09-20 13:31:55,086 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-09-20 13:32:10,934 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-09-20 13:32:58,945 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-09-20 13:34:26,661 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-09-20 13:34:36,704 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\netmiko\base_connection.py", line 1046, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\paramiko\client.py", line 349, in connect
    retry_on_signal(lambda: sock.connect(addr))
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\paramiko\util.py", line 279, in retry_on_signal
    return function()
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\paramiko\client.py", line 349, in <lambda>
    retry_on_signal(lambda: sock.connect(addr))
TimeoutError: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 99, in start
    r = self.task(self, **self.params)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir_netmiko\tasks\netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\inventory.py", line 494, in get_connection
    self.open_connection(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\inventory.py", line 546, in open_connection
    conn_obj.open(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir_netmiko\connections\netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\netmiko\ssh_dispatcher.py", line 365, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\netmiko\base_connection.py", line 439, in __init__
    self._open()
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\netmiko\base_connection.py", line 444, in _open
    self.establish_connection()
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\netmiko\base_connection.py", line 1068, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_ios 192.168.19.101:22



2022-09-20 13:34:36,705 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 99, in start
    r = self.task(self, **self.params)
  File "C:\Projects\zero_touch\api\zero_backend\zero_touch_api\views.py", line 21, in another_show_command_test
    interfaces_result = task.run(
  File "C:\Projects\zero_touch\api\.venv\lib\site-packages\nornir\core\task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-09-20 13:35:03,356 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-09-20 13:36:11,330 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
                                                                                                                                     2022-11-29 12:01:15,097 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 12:01:18,212 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1046, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/client.py", line 381, in connect
    raise NoValidConnectionsError(errors)
paramiko.ssh_exception.NoValidConnectionsError: [Errno None] Unable to connect to port 22 on 192.168.19.101

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/ssh_dispatcher.py", line 365, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 439, in __init__
    self._open()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 444, in _open
    self.establish_connection()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1068, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_ios 192.168.19.101:22



2022-11-29 12:01:18,213 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 77, in another_show_command_test
    interfaces_result = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-11-29 12:02:44,713 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 12:02:54,781 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1046, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/client.py", line 358, in connect
    retry_on_signal(lambda: sock.connect(addr))
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/util.py", line 279, in retry_on_signal
    return function()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/client.py", line 358, in <lambda>
    retry_on_signal(lambda: sock.connect(addr))
TimeoutError: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/ssh_dispatcher.py", line 365, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 439, in __init__
    self._open()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 444, in _open
    self.establish_connection()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1068, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_ios 192.168.19.101:22



2022-11-29 12:02:54,783 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 77, in another_show_command_test
    interfaces_result = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-11-29 12:06:45,442 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 12:30:42,257 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 12:31:03,803 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 12:31:30,192 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 12:31:31,282 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 82, in another_show_command_test
    task.host["facts"] = interfaces_result.textfsm_parse_output()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 255, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'textfsm_parse_output'

2022-11-29 12:32:28,273 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 12:32:29,421 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 82, in another_show_command_test
    task.host["facts"] = interfaces_result.textfsm_parse_output()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 255, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'textfsm_parse_output'

2022-11-29 12:34:28,858 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 12:34:30,060 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 82, in another_show_command_test
    task.host["facts"] = interfaces_result.textfsm_parse_output()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 255, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'textfsm_parse_output'

2022-11-29 12:35:43,812 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 12:35:44,985 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 82, in another_show_command_test
    task.host["facts"] = interfaces_result.genie_parse_output()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 255, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'genie_parse_output'

2022-11-29 12:37:18,057 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 12:37:19,292 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1729, in send_command
    return_val = structured_data_converter(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 577, in structured_data_converter
    structured_output_genie = get_structured_data_genie(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 500, in get_structured_data_genie
    raise ValueError(msg)
ValueError: 
Genie and PyATS are not installed. Please PIP install both Genie and PyATS:
pip install genie
pip install pyats


2022-11-29 12:37:19,293 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 77, in another_show_command_test
    interfaces_result = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-11-29 15:01:57,976 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 15:01:58,820 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1729, in send_command
    return_val = structured_data_converter(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 577, in structured_data_converter
    structured_output_genie = get_structured_data_genie(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 500, in get_structured_data_genie
    raise ValueError(msg)
ValueError: 
Genie and PyATS are not installed. Please PIP install both Genie and PyATS:
pip install genie
pip install pyats


2022-11-29 15:01:58,821 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 77, in another_show_command_test
    interfaces_result = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-11-29 15:10:11,070 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 15:10:11,934 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1729, in send_command
    return_val = structured_data_converter(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 577, in structured_data_converter
    structured_output_genie = get_structured_data_genie(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 500, in get_structured_data_genie
    raise ValueError(msg)
ValueError: 
Genie and PyATS are not installed. Please PIP install both Genie and PyATS:
pip install genie
pip install pyats


2022-11-29 15:10:11,935 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 77, in another_show_command_test
    interfaces_result = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-11-29 15:26:18,767 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 15:31:15,093 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 18:32:17,064 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 18:32:18,131 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1729, in send_command
    return_val = structured_data_converter(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 577, in structured_data_converter
    structured_output_genie = get_structured_data_genie(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 500, in get_structured_data_genie
    raise ValueError(msg)
ValueError: 
Genie and PyATS are not installed. Please PIP install both Genie and PyATS:
pip install genie
pip install pyats


2022-11-29 18:32:18,132 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 77, in another_show_command_test
    interfaces_result = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-11-29 18:51:36,857 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 18:53:03,883 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 18:53:20,686 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 19:13:45,948 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 19:20:10,930 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 19:51:15,262 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 19:51:24,636 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 83, in another_show_command_test
    task.host["facts"] = json.loads(interfaces_result.result)
  File "/usr/lib/python3.10/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.10/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.10/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

2022-11-29 19:53:02,054 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 19:57:03,976 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 19:57:09,899 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 85, in another_show_command_test
    task.host["facts"] = get_json(interfaces_result.result)
TypeError: 'module' object is not callable

2022-11-29 20:02:05,523 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 20:02:12,111 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 85, in another_show_command_test
    task.host["facts"] = get_parser(interfaces_result.result)
TypeError: get_parser() missing 1 required positional argument: 'device'

2022-11-29 20:03:58,849 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 20:04:05,672 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 85, in another_show_command_test
    task.host["facts"] = format_output(interfaces_result.result)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/genie/libs/parser/utils/common.py", line 119, in format_output
    for k, v in sorted(parser_data.items()):
AttributeError: 'str' object has no attribute 'items'

2022-11-29 20:08:54,761 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 20:09:01,634 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 85, in another_show_command_test
    task.host["facts"] = get_parser(interfaces_result)
TypeError: get_parser() missing 1 required positional argument: 'device'

2022-11-29 20:15:39,697 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 20:15:45,925 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 85, in another_show_command_test
    task.host["facts"] = format_output(interfaces_result.result)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/genie/libs/parser/utils/common.py", line 119, in format_output
    for k, v in sorted(parser_data.items()):
AttributeError: 'str' object has no attribute 'items'

2022-11-29 20:16:13,308 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 20:16:20,651 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 85, in another_show_command_test
    task.host["facts"] = format_output(interfaces_result)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/genie/libs/parser/utils/common.py", line 119, in format_output
    for k, v in sorted(parser_data.items()):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 255, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'items'

2022-11-29 20:26:45,661 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 20:30:42,209 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 20:31:10,059 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 20:31:45,466 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 20:41:55,601 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 20:42:08,757 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 20:42:33,001 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 20:43:05,569 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 20:52:52,868 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-29 20:52:59,629 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 86, in another_show_command_test
    task.host["facts"] = parsergen.oper_fill_tabular(
  File "src/genie/parsergen/_parsergen.py", line 802, in genie.parsergen._parsergen.oper_fill_tabular.__init__
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 255, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'replace'

2022-11-30 20:10:03,931 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-30 20:10:21,949 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 86, in another_show_command_test
    print(json.dumps(interfaces_result, indent=4, sort_keys=True))
  File "/usr/lib/python3.10/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.10/json/encoder.py", line 201, in encode
    chunks = list(chunks)
  File "/usr/lib/python3.10/json/encoder.py", line 429, in _iterencode
    yield from _iterencode_list(o, _current_indent_level)
  File "/usr/lib/python3.10/json/encoder.py", line 325, in _iterencode_list
    yield from chunks
  File "/usr/lib/python3.10/json/encoder.py", line 438, in _iterencode
    o = _default(o)
  File "/usr/lib/python3.10/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Result is not JSON serializable

2022-11-30 20:11:26,658 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-30 20:26:28,783 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-30 20:26:50,010 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "src/pyats/datastructures/listdict.py", line 95, in pyats.datastructures.listdict.ListDict.__init__
ValueError: too many values to unpack (expected 2)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 89, in another_show_command_test
    print(Dq(interfaces_result.result))
  File "src/genie/utils/dq.py", line 22, in genie.utils.dq.Dq.__init__
  File "src/pyats/datastructures/listdict.py", line 97, in pyats.datastructures.listdict.ListDict.__init__
ValueError: ListDict only accepts a tuple of path/obj

2022-11-30 20:28:20,280 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-30 20:28:40,091 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 89, in another_show_command_test
    print(QDict(interfaces_result.result))
ValueError: dictionary update sequence element #0 has length 1; 2 is required

2022-11-30 21:18:39,233 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-11-30 21:18:59,002 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 89, in another_show_command_test
    print(get_json(interfaces_result.result))
TypeError: 'module' object is not callable

2022-12-01 07:40:55,085 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-12-01 07:46:07,337 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-12-01 07:46:14,581 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 90, in another_show_command_test
    print(json.loads(interfaces_result.result))
  File "/usr/lib/python3.10/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.10/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.10/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

2022-12-01 07:50:28,143 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-12-01 07:50:34,706 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 90, in another_show_command_test
    print(json.dumps(interfaces_result.result.__dict__, sort_keys=False, indent=4))
AttributeError: 'str' object has no attribute '__dict__'

2022-12-01 07:51:04,517 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-12-01 07:52:00,207 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-12-01 07:59:56,736 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-12-01 08:00:02,791 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 90, in another_show_command_test
    print(json.dumps(interfaces_result.result.keys(), sort_keys=False, indent=4))
AttributeError: 'str' object has no attribute 'keys'

2022-12-01 08:42:23,930 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-12-01 08:42:59,137 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-12-01 08:45:40,271 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-12-01 08:51:08,822 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-12-01 08:52:33,198 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-12-01 08:52:40,388 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'another_show_command_test' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/views.py", line 90, in another_show_command_test
    print(json.loads(interfaces_result.result.__dict__, sort_keys=False, indent=4))
  File "/usr/lib/python3.10/json/__init__.py", line 339, in loads
    raise TypeError(f'the JSON object must be str, bytes or bytearray, '
TypeError: the JSON object must be str, bytes or bytearray, not dict

2022-12-01 08:53:14,062 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-12-01 08:53:48,449 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-12-01 08:58:09,424 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-12-01 09:14:56,029 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-12-01 09:20:00,066 -  nornir.core -     INFO -        run() - Running task 'another_show_command_test' with args {} on 1 hosts
2022-12-01 09:25:25,624 -  nornir.core -     INFO -        run() - Running task 'show_ip_int_br' with args {} on 1 hosts
2022-12-01 09:27:56,574 -  nornir.core -     INFO -        run() - Running task 'show_ip_int_br' with args {} on 1 hosts
2022-12-01 09:46:17,072 -  nornir.core -     INFO -        run() - Running task 'show_ip_int_br' with args {} on 1 hosts
2022-12-01 09:46:17,167 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1659, in send_command
    search_pattern = self._prompt_handler(auto_find_prompt)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1544, in _prompt_handler
    prompt = self.find_prompt()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1335, in find_prompt
    self.write_channel(self.RETURN)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 97, in wrapper_decorator
    return_val = func(self, *args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 111, in wrapper_decorator
    func(self, out_data)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 537, in write_channel
    self.channel.write_channel(out_data)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/channel.py", line 74, in write_channel
    self.remote_conn.sendall(write_bytes(out_data, encoding=self.encoding))
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/channel.py", line 846, in sendall
    sent = self.send(s)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/channel.py", line 801, in send
    return self._send(s, m)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/channel.py", line 1198, in _send
    raise socket.error("Socket is closed")
OSError: Socket is closed

2022-12-01 09:46:17,170 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'show_ip_int_br' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 6, in show_ip_int_br
    interfaces_result = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-12-01 09:46:52,061 -  nornir.core -     INFO -        run() - Running task 'show_ip_int_br' with args {} on 1 hosts
2022-12-01 09:47:38,964 -  nornir.core -     INFO -        run() - Running task 'show_ip_int_br' with args {} on 1 hosts
2022-12-01 09:55:02,297 -  nornir.core -     INFO -        run() - Running task 'show_ip_int_br' with args {} on 1 hosts
2022-12-01 09:57:53,944 -  nornir.core -     INFO -        run() - Running task 'show_ip_int_br' with args {} on 1 hosts
2022-12-06 08:36:48,617 -  nornir.core -     INFO -        run() - Running task 'get_ip' with args {} on 1 hosts
2022-12-06 08:36:51,758 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1046, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/client.py", line 381, in connect
    raise NoValidConnectionsError(errors)
paramiko.ssh_exception.NoValidConnectionsError: [Errno None] Unable to connect to port 22 on 192.168.19.101

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/ssh_dispatcher.py", line 365, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 439, in __init__
    self._open()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 444, in _open
    self.establish_connection()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1068, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_ios 192.168.19.101:22



2022-12-06 08:36:51,760 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'get_ip' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 27, in get_ip
    response = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-12-09 21:21:12,745 -  nornir.core -     INFO -        run() - Running task 'get_all_ip' with args {} on 1 hosts
2022-12-09 21:21:15,819 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1046, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/client.py", line 381, in connect
    raise NoValidConnectionsError(errors)
paramiko.ssh_exception.NoValidConnectionsError: [Errno None] Unable to connect to port 22 on 192.168.19.101

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/ssh_dispatcher.py", line 365, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 439, in __init__
    self._open()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 444, in _open
    self.establish_connection()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1068, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_ios 192.168.19.101:22



2022-12-09 21:21:15,820 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'get_all_ip' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 29, in get_all_ip
    response = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-12-10 17:59:10,467 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 17:59:10,468 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_utils/plugins/tasks/data/load_yaml.py", line 24, in load_yaml
    with open(file, "r") as f:
FileNotFoundError: [Errno 2] No such file or directory: '../../host_vars/R1.yaml'

2022-12-10 17:59:10,468 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'load_ospf' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 111, in load_ospf
    data = task.run(task=load_yaml,file=f'../../host_vars/{task.host}.yaml')
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: load_yaml (failed)


2022-12-10 18:00:00,640 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 18:00:00,641 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_utils/plugins/tasks/data/load_yaml.py", line 24, in load_yaml
    with open(file, "r") as f:
FileNotFoundError: [Errno 2] No such file or directory: '../../host_vars/R1.yaml'

2022-12-10 18:00:00,642 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'load_ospf' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 111, in load_ospf
    data = task.run(task=load_yaml,file=f'../../host_vars/{task.host}.yaml')
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: load_yaml (failed)


2022-12-10 18:00:27,724 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 18:00:27,727 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_utils/plugins/tasks/data/load_yaml.py", line 24, in load_yaml
    with open(file, "r") as f:
FileNotFoundError: [Errno 2] No such file or directory: '../../host_vars/R1.yaml'

2022-12-10 18:00:27,728 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'load_ospf' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 111, in load_ospf
    data = task.run(task=load_yaml,file=f'../../host_vars/{task.host}.yaml')
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: load_yaml (failed)


2022-12-10 18:02:41,554 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 18:02:41,561 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/jinja2/loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/jinja2/loaders.py", line 218, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: ospf.j2

2022-12-10 18:02:41,562 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'load_ospf' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 114, in load_ospf
    r = task.run(task=template_file, template="ospf.j2", path="../../templates")
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2022-12-10 18:03:13,135 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 18:03:13,152 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "../templates/ospf.j2", line 1, in top-level template code
    router ospf {{ host['ospf']['ospf_process'] }}
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/jinja2/environment.py", line 466, in getitem
    return obj[argument]
jinja2.exceptions.UndefinedError: 'nornir.core.inventory.Host object' has no attribute 'ospf'

2022-12-10 18:03:13,153 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'load_ospf' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 114, in load_ospf
    r = task.run(task=template_file, template="ospf.j2", path="../templates")
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2022-12-10 18:03:57,459 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 18:03:57,473 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'load_ospf' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 113, in load_ospf
    task.host["ospf"] = data.result["ospf"]
KeyError: 'ospf'

2022-12-10 18:05:27,853 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 18:05:30,954 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'zeroTouch command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1046, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/client.py", line 381, in connect
    raise NoValidConnectionsError(errors)
paramiko.ssh_exception.NoValidConnectionsError: [Errno None] Unable to connect to port 22 on 192.168.19.101

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_config.py", line 28, in netmiko_send_config
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/ssh_dispatcher.py", line 365, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 439, in __init__
    self._open()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 444, in _open
    self.establish_connection()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1068, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_ios 192.168.19.101:22



2022-12-10 18:05:30,955 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'load_ospf' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 118, in load_ospf
    task.run(task=netmiko_send_config, name="zeroTouch command", config_commands=send)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: zeroTouch command (failed)


2022-12-10 18:07:53,684 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 18:20:39,917 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 18:21:11,585 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 18:21:12,652 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 18:21:13,418 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 18:21:38,587 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 18:22:29,477 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 18:23:19,741 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 18:23:38,289 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 18:46:23,782 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 18:46:46,026 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 18:47:04,632 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 18:47:26,960 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 18:47:46,726 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 18:49:40,960 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 18:50:30,921 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 18:50:53,145 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 18:53:37,182 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 19:15:49,308 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 19:16:22,476 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 19:29:51,795 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 19:31:52,604 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 19:34:07,203 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 19:35:49,831 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 19:37:54,124 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 19:39:20,137 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 19:42:27,989 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-10 20:10:46,493 -  nornir.core -     INFO -        run() - Running task 'show_ip_ospf_database_router' with args {} on 1 hosts
2022-12-10 20:11:39,903 -  nornir.core -     INFO -        run() - Running task 'show_ip_ospf_database_router' with args {} on 1 hosts
2022-12-12 16:10:40,573 -  nornir.core -     INFO -        run() - Running task 'show_ip_ospf_database_router' with args {} on 1 hosts
2022-12-12 16:10:40,743 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1659, in send_command
    search_pattern = self._prompt_handler(auto_find_prompt)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1544, in _prompt_handler
    prompt = self.find_prompt()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1335, in find_prompt
    self.write_channel(self.RETURN)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 97, in wrapper_decorator
    return_val = func(self, *args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 111, in wrapper_decorator
    func(self, out_data)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 537, in write_channel
    self.channel.write_channel(out_data)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/channel.py", line 74, in write_channel
    self.remote_conn.sendall(write_bytes(out_data, encoding=self.encoding))
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/channel.py", line 846, in sendall
    sent = self.send(s)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/channel.py", line 801, in send
    return self._send(s, m)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/channel.py", line 1198, in _send
    raise socket.error("Socket is closed")
OSError: Socket is closed

2022-12-12 16:10:40,750 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'show_ip_ospf_database_router' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 130, in show_ip_ospf_database_router
    interfaces_result = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-12-12 16:18:19,922 -  nornir.core -     INFO -        run() - Running task 'show_ip_ospf_database_router' with args {} on 1 hosts
2022-12-12 16:30:59,561 -  nornir.core -     INFO -        run() - Running task 'show_ip_ospf_database_router_self_originiate' with args {} on 1 hosts
2022-12-12 16:31:04,290 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'show_ip_ospf_database_router_self_originiate' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 168, in show_ip_ospf_database_router_self_originiate
    link_type = match.group(1)
AttributeError: 'NoneType' object has no attribute 'group'

2022-12-12 16:34:49,313 -  nornir.core -     INFO -        run() - Running task 'show_ip_ospf_database_router_self_originiate' with args {} on 1 hosts
2022-12-12 20:40:56,313 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-12 20:41:02,628 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 155, in generate_node_and_edge_dictionaries
    for neighbor in parsed_output["neighbors"]:
TypeError: string indices must be integers

2022-12-12 20:42:20,924 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-12 20:42:23,843 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 156, in generate_node_and_edge_dictionaries
    for neighbor in parsed_output["neighbors"]:
TypeError: string indices must be integers

2022-12-12 20:44:16,237 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-12 20:45:39,565 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-12 20:46:24,743 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-12 20:48:04,460 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-12 20:48:08,754 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-12 20:48:11,676 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 156, in generate_node_and_edge_dictionaries
    for neighbor in parsed_output["neighbors"]:
TypeError: string indices must be integers

2022-12-12 20:49:02,025 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-12 20:49:24,780 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-12 20:49:26,453 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-12 20:49:52,664 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-12 20:50:08,692 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-12 20:50:12,310 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 156, in generate_node_and_edge_dictionaries
    for neighbor in parsed_output["neighbors"]:
TypeError: string indices must be integers

2022-12-12 21:35:22,680 -  nornir.core -     INFO -        run() - Running task 'load_ospf' with args {} on 1 hosts
2022-12-13 08:58:37,471 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 08:58:37,560 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1659, in send_command
    search_pattern = self._prompt_handler(auto_find_prompt)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1544, in _prompt_handler
    prompt = self.find_prompt()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1335, in find_prompt
    self.write_channel(self.RETURN)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 97, in wrapper_decorator
    return_val = func(self, *args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 111, in wrapper_decorator
    func(self, out_data)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 537, in write_channel
    self.channel.write_channel(out_data)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/channel.py", line 74, in write_channel
    self.remote_conn.sendall(write_bytes(out_data, encoding=self.encoding))
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/channel.py", line 846, in sendall
    sent = self.send(s)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/channel.py", line 801, in send
    return self._send(s, m)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/channel.py", line 1198, in _send
    raise socket.error("Socket is closed")
OSError: Socket is closed

2022-12-13 08:58:37,563 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 144, in generate_node_and_edge_dictionaries
    ospf_output = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-12-13 08:59:41,067 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 08:59:47,151 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 159, in generate_node_and_edge_dictionaries
    for neighbor in parsed_output["neighbors"]:
TypeError: string indices must be integers

2022-12-13 09:01:23,611 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 09:01:26,916 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 159, in generate_node_and_edge_dictionaries
    for neighbor in parsed_output["neighbors"]:
TypeError: string indices must be integers

2022-12-13 09:02:10,136 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 09:02:14,534 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 159, in generate_node_and_edge_dictionaries
    for neighbor in parsed_output["neighbors"]:
TypeError: string indices must be integers

2022-12-13 09:03:42,820 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 09:03:46,677 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 159, in generate_node_and_edge_dictionaries
    for neighbor in parsed_output["neighbors"]:
TypeError: string indices must be integers

2022-12-13 09:06:07,831 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 09:06:12,346 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 159, in generate_node_and_edge_dictionaries
    for neighbor in parsed_output["neighbors"]:
TypeError: string indices must be integers

2022-12-13 09:20:18,678 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 09:20:25,089 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 159, in generate_node_and_edge_dictionaries
    for host, task_result in ospf_output.items():
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 255, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'items'

2022-12-13 09:23:23,668 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 09:23:28,176 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 159, in generate_node_and_edge_dictionaries
    for host, task_result in ospf_output.dict().items():
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 255, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'dict'

2022-12-13 09:25:20,429 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 09:25:25,154 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 159, in generate_node_and_edge_dictionaries
    for host, task_result in ospf_output.dict().items():
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 255, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'dict'

2022-12-13 09:26:03,362 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 09:26:06,867 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 159, in generate_node_and_edge_dictionaries
    for host, task_result in ospf_output.dict().items():
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 255, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'dict'

2022-12-13 10:26:43,226 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 10:30:47,286 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 10:30:52,035 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 154, in generate_node_and_edge_dictionaries
    Genie.parse,
AttributeError: type object 'Genie' has no attribute 'parse'

2022-12-13 10:44:55,150 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 10:44:55,153 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 146, in generate_node_and_edge_dictionaries
    g = Genie.parse('show ip ospf neighbor')
AttributeError: type object 'Genie' has no attribute 'parse'

2022-12-13 10:48:43,762 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 10:48:50,201 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 155, in generate_node_and_edge_dictionaries
    parsed = ospf_output.parse('genie.parser.iosxe.show_ip_ospf_neighbor')
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 255, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'parse'

2022-12-13 11:02:52,545 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 11:02:57,437 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 155, in generate_node_and_edge_dictionaries
    for host, host_data in ospf_output.items():
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 255, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'items'

2022-12-13 12:22:54,391 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 12:23:05,472 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1721, in send_command
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 
Pattern not detected: 'CiscoRouter\\#' in output.

Things you might try to fix this:
1. Explicitly set your pattern using the expect_string argument.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2022-12-13 12:23:05,473 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 148, in generate_node_and_edge_dictionaries
    ospf_output = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-12-13 12:23:25,317 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 12:24:18,384 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 12:24:24,784 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 157, in generate_node_and_edge_dictionaries
    nodes = parsed_output['vrf']['default']['address_family']['ipv4']['instance']['1']['database']['lsa']
KeyError: 'database'

2022-12-13 12:26:28,375 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 12:26:31,902 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 156, in generate_node_and_edge_dictionaries
    pprint(parsed_output)
TypeError: 'module' object is not callable

2022-12-13 12:30:13,518 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 12:30:16,867 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 156, in generate_node_and_edge_dictionaries
    pprint(parsed_output)
TypeError: 'module' object is not callable

2022-12-13 12:30:50,384 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 12:30:53,780 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 157, in generate_node_and_edge_dictionaries
KeyError: 'database'

2022-12-13 12:32:31,269 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 12:32:34,600 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 156, in generate_node_and_edge_dictionaries
    nodes = parsed_output['vrf']['default']['address_family']['ipv4']['instance']['areas']['0.0.0.0']['1']['database']['lsa_types']['1']['lsas']
KeyError: 'database'

2022-12-13 12:33:55,248 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 12:34:00,070 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 156, in generate_node_and_edge_dictionaries
    nodes = parsed_output['vrf']['default']['address_family']['ipv4']['instance']['1']['areas']['0.0.0.0']['database']['lsa_types']['1']['lsas']
KeyError: '1'

2022-12-13 12:35:57,675 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 12:36:00,962 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 156, in generate_node_and_edge_dictionaries
    nodes = parsed_output['vrf']['default']['address_family']['ipv4']['instance']['1']['areas']['0.0.0.0']['database']['lsa_types']['2']['lsas']
KeyError: '2'

2022-12-13 12:38:43,169 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 12:38:47,703 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 156, in generate_node_and_edge_dictionaries
    nodes = parsed_output['vrf']['default']['address_family']['ipv4']['instance']['1']['areas']['0.0.0.0']['database']['lsa_types']['2']['lsa_type']['lsas']
KeyError: '2'

2022-12-13 12:39:52,992 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 12:39:57,843 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 156, in generate_node_and_edge_dictionaries
    nodes = parsed_output['vrf']['default']['address_family']['ipv4']['instance']['1']['areas']['0.0.0.0']['database']['lsa_types'][2]['lsa_type']['lsas']
TypeError: 'int' object is not subscriptable

2022-12-13 12:42:55,484 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 12:42:59,991 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 156, in generate_node_and_edge_dictionaries
    nodes = parsed_output['vrf']['default']['address_family']['ipv4']['instance']['1']['areas']['0.0.0.0']['database']['lsa_types']['lsa_type']['lsas']
KeyError: 'lsa_type'

2022-12-13 12:44:54,324 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 13:21:39,312 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 13:22:36,990 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 13:24:36,155 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 13:30:04,700 -  nornir.core -     INFO -        run() - Running task 'show_ip_ospf_database_router' with args {} on 1 hosts
2022-12-13 13:31:25,405 -  nornir.core -     INFO -        run() - Running task 'show_ip_ospf_database_router' with args {} on 1 hosts
2022-12-13 15:22:36,252 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 15:22:42,020 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 155, in generate_node_and_edge_dictionaries
    nodes_data = ospf_output['vrf']['default']['address_family']['ipv4']['instance']['1']['areas']['0.0.0.0']['database']['lsa_types'][1]['lsas']
TypeError: list indices must be integers or slices, not str

2022-12-13 15:30:32,096 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 15:30:37,602 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 173, in generate_node_and_edge_dictionaries
    if "loopback" in lsa["ospfv2"]["body"]:
KeyError: 'ospfv2'

2022-12-13 15:33:32,314 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 15:33:36,154 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 173, in generate_node_and_edge_dictionaries
    if "loopback" in lsa[lsa_id]["ospfv2"]["body"]:
KeyError: '10.0.0.1 10.0.0.1'

2022-12-13 15:38:13,955 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 15:38:18,438 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 184, in generate_node_and_edge_dictionaries
    node_interface = nodes_data['ospfv2']['body']['router']['links'].keys()[0]
TypeError: 'dict_keys' object is not subscriptable

2022-12-13 15:40:34,066 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 15:40:38,493 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 187, in generate_node_and_edge_dictionaries
    lsa_info = nodes_data[lsa]
TypeError: unhashable type: 'dict'

2022-12-13 15:41:13,711 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 15:41:17,650 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 187, in generate_node_and_edge_dictionaries
    lsa_info = nodes_data[lsa_id]
KeyError: '10.0.0.1 10.0.0.1'

2022-12-13 15:42:23,632 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 15:57:28,196 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 15:57:33,696 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 166, in generate_node_and_edge_dictionaries
    for link_id, link_data in nodes_data["ospfv2"]["body"]["Router"]["links"].items():
KeyError: 'Router'

2022-12-13 15:58:00,128 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 16:16:35,165 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 16:20:26,756 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 16:22:08,941 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 16:33:53,826 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 16:33:59,140 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 195, in generate_node_and_edge_dictionaries
    G.add_edges_from(edges)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/networkx/classes/graph.py", line 977, in add_edges_from
    raise NetworkXError(f"Edge tuple {e} must be a 2-tuple or 3-tuple.")
networkx.exception.NetworkXError: Edge tuple 10.0.0.1 must be a 2-tuple or 3-tuple.

2022-12-13 16:40:22,059 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 16:40:26,700 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 204, in generate_node_and_edge_dictionaries
    G.add_nodes_from(nodes.keys)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/networkx/classes/graph.py", line 611, in add_nodes_from
    for n in nodes_for_adding:
TypeError: 'builtin_function_or_method' object is not iterable

2022-12-13 16:41:29,829 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 16:41:35,719 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 209, in generate_node_and_edge_dictionaries
    pos = {nodes[node]: {"x": x, "y": y} for node, (x, y) in node_positions.items()}
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 209, in <dictcomp>
    pos = {nodes[node]: {"x": x, "y": y} for node, (x, y) in node_positions.items()}
TypeError: unhashable type: 'dict'

2022-12-13 16:42:09,394 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 22:57:48,662 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 22:57:53,952 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 202, in generate_node_and_edge_dictionaries
    G.add_edge(key, dest,value['cost'])
TypeError: Graph.add_edge() takes 3 positional arguments but 4 were given

2022-12-13 23:02:53,364 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 23:07:18,302 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 23:15:39,603 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-13 23:17:05,220 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-16 12:02:37,093 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-16 12:02:40,180 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1046, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/client.py", line 381, in connect
    raise NoValidConnectionsError(errors)
paramiko.ssh_exception.NoValidConnectionsError: [Errno None] Unable to connect to port 22 on 192.168.19.101

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/ssh_dispatcher.py", line 365, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 439, in __init__
    self._open()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 444, in _open
    self.establish_connection()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1068, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_ios 192.168.19.101:22



2022-12-16 12:02:40,180 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 148, in generate_node_and_edge_dictionaries
    ospf_output = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-12-16 12:05:23,167 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-16 12:07:53,144 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-16 12:08:00,923 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-16 12:08:23,545 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-16 12:08:37,417 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 163, in generate_node_and_edge_dictionaries
    for area in instance["areas"].values():
KeyError: 'areas'

2022-12-16 12:27:17,315 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-16 12:27:43,325 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-16 12:27:58,194 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 222, in generate_node_and_edge_dictionaries
    new_dict = {
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 222, in <setcomp>
    new_dict = {
TypeError: unhashable type: 'dict'

2022-12-16 12:32:28,717 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-16 12:32:37,945 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 237, in generate_node_and_edge_dictionaries
    print(json.dumps(new_dict,indent=4))
  File "/usr/lib/python3.10/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.10/json/encoder.py", line 201, in encode
    chunks = list(chunks)
  File "/usr/lib/python3.10/json/encoder.py", line 431, in _iterencode
    yield from _iterencode_dict(o, _current_indent_level)
  File "/usr/lib/python3.10/json/encoder.py", line 376, in _iterencode_dict
    raise TypeError(f'keys must be str, int, float, bool or None, '
TypeError: keys must be str, int, float, bool or None, not tuple

2022-12-16 12:35:28,872 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-16 15:02:10,849 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-16 15:02:54,844 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-16 16:17:57,777 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-16 16:18:04,848 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 245, in generate_node_and_edge_dictionaries
    edges.append({
AttributeError: 'dict' object has no attribute 'append'

2022-12-16 16:18:35,012 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-16 16:18:48,958 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-16 16:18:52,479 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 245, in generate_node_and_edge_dictionaries
    edges.append({
AttributeError: 'dict' object has no attribute 'append'

2022-12-16 16:19:10,089 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-16 16:19:14,667 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 245, in generate_node_and_edge_dictionaries
    new_dict_edges.append({
TypeError: unhashable type: 'dict'

2022-12-16 16:20:35,390 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-16 16:20:39,490 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 245, in generate_node_and_edge_dictionaries
    buffer_dict ={
TypeError: unhashable type: 'dict'

2022-12-16 16:21:50,680 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-16 16:21:54,946 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 245, in generate_node_and_edge_dictionaries
    buffer_dict = {
TypeError: unhashable type: 'dict'

2022-12-16 16:23:04,765 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-16 16:41:01,365 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-16 17:04:35,284 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-16 18:42:19,273 -  nornir.core -     INFO -        run() - Running task 'show_ip_int_br' with args {} on 1 hosts
2022-12-16 18:42:19,392 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1659, in send_command
    search_pattern = self._prompt_handler(auto_find_prompt)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1544, in _prompt_handler
    prompt = self.find_prompt()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1335, in find_prompt
    self.write_channel(self.RETURN)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 97, in wrapper_decorator
    return_val = func(self, *args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 111, in wrapper_decorator
    func(self, out_data)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 537, in write_channel
    self.channel.write_channel(out_data)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/channel.py", line 74, in write_channel
    self.remote_conn.sendall(write_bytes(out_data, encoding=self.encoding))
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/channel.py", line 846, in sendall
    sent = self.send(s)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/channel.py", line 801, in send
    return self._send(s, m)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/channel.py", line 1198, in _send
    raise socket.error("Socket is closed")
OSError: Socket is closed

2022-12-16 18:42:19,394 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'show_ip_int_br' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 27, in show_ip_int_br
    interfaces_result = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-12-20 21:54:16,492 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-20 21:54:52,901 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 215, in generate_node_and_edge_dictionaries
    model = parsed_version_output['version']['chassis']
KeyError: 'chassis'

2022-12-21 08:12:24,721 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-21 08:12:32,786 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 215, in generate_node_and_edge_dictionaries
    model = parsed_version_output['version']['chassis']
KeyError: 'chassis'

2022-12-21 08:14:31,587 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-21 08:14:38,479 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 217, in generate_node_and_edge_dictionaries
    primary_ip = parsed_version_output['ip_addr']['primary']['address']
KeyError: 'ip_addr'

2022-12-21 08:17:20,609 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-21 16:59:25,633 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 1 hosts
2022-12-21 17:54:13,930 -  nornir.core -     INFO -        run() - Running task 'get_interfaces_dict' with args {} on 2 hosts
2022-12-21 17:54:17,009 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1046, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/client.py", line 450, in connect
    self._auth(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/client.py", line 781, in _auth
    raise saved_exception
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/client.py", line 768, in _auth
    self._transport.auth_password(username, password)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/transport.py", line 1564, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/auth_handler.py", line 259, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/ssh_dispatcher.py", line 365, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 439, in __init__
    self._open()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 444, in _open
    self.establish_connection()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1083, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_ios 192.168.19.102:22


Authentication failed.

2022-12-21 17:54:17,013 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'get_interfaces_dict' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 41, in get_interfaces_dict
    interfaces_result = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-12-21 17:54:26,817 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
TypeError: netmiko_send_command() missing 1 required positional argument: 'command_string'

2022-12-21 17:54:26,818 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'get_interfaces_dict' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 53, in get_interfaces_dict
    version_result = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-12-21 17:54:26,826 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 2 hosts
2022-12-21 17:54:38,984 -  nornir.core -     INFO -        run() - Running task 'get_interfaces_dict' with args {} on 2 hosts
2022-12-21 17:54:38,984 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 2 hosts
2022-12-21 17:54:56,677 -  nornir.core -     INFO -        run() - Running task 'get_interfaces_dict' with args {} on 2 hosts
2022-12-21 17:54:59,536 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1046, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/client.py", line 450, in connect
    self._auth(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/client.py", line 781, in _auth
    raise saved_exception
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/client.py", line 768, in _auth
    self._transport.auth_password(username, password)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/transport.py", line 1564, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/auth_handler.py", line 259, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/ssh_dispatcher.py", line 365, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 439, in __init__
    self._open()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 444, in _open
    self.establish_connection()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1083, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_ios 192.168.19.102:22


Authentication failed.

2022-12-21 17:54:59,551 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'get_interfaces_dict' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 41, in get_interfaces_dict
    interfaces_result = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-12-21 17:55:05,350 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
TypeError: netmiko_send_command() missing 1 required positional argument: 'command_string'

2022-12-21 17:55:05,352 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'get_interfaces_dict' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 53, in get_interfaces_dict
    version_result = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-12-21 17:55:05,354 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 2 hosts
2022-12-21 17:55:28,313 -  nornir.core -     INFO -        run() - Running task 'get_interfaces_dict' with args {} on 2 hosts
2022-12-21 17:55:31,223 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1046, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/client.py", line 450, in connect
    self._auth(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/client.py", line 781, in _auth
    raise saved_exception
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/client.py", line 768, in _auth
    self._transport.auth_password(username, password)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/transport.py", line 1564, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/auth_handler.py", line 259, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/ssh_dispatcher.py", line 365, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 439, in __init__
    self._open()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 444, in _open
    self.establish_connection()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1083, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_ios 192.168.19.102:22


Authentication failed.

2022-12-21 17:55:31,253 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'get_interfaces_dict' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 41, in get_interfaces_dict
    interfaces_result = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-12-21 17:55:35,776 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
TypeError: netmiko_send_command() missing 1 required positional argument: 'command_string'

2022-12-21 17:55:35,778 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'get_interfaces_dict' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 53, in get_interfaces_dict
    version_result = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-12-21 17:55:35,780 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 2 hosts
2022-12-21 17:56:01,007 -  nornir.core -     INFO -        run() - Running task 'get_interfaces_dict' with args {} on 2 hosts
2022-12-21 17:56:01,008 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 2 hosts
2022-12-21 17:56:31,946 -  nornir.core -     INFO -        run() - Running task 'get_interfaces_dict' with args {} on 2 hosts
2022-12-21 17:56:35,086 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1046, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/client.py", line 450, in connect
    self._auth(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/client.py", line 781, in _auth
    raise saved_exception
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/client.py", line 768, in _auth
    self._transport.auth_password(username, password)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/transport.py", line 1564, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/auth_handler.py", line 259, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/ssh_dispatcher.py", line 365, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 439, in __init__
    self._open()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 444, in _open
    self.establish_connection()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1083, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_ios 192.168.19.102:22


Authentication failed.

2022-12-21 17:56:35,102 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'get_interfaces_dict' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 41, in get_interfaces_dict
    interfaces_result = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-12-21 17:56:39,326 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
TypeError: netmiko_send_command() missing 1 required positional argument: 'command_string'

2022-12-21 17:56:39,326 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'get_interfaces_dict' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 53, in get_interfaces_dict
    version_result = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-12-21 17:56:39,329 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 2 hosts
2022-12-21 17:57:52,964 -  nornir.core -     INFO -        run() - Running task 'get_interfaces_dict' with args {} on 2 hosts
2022-12-21 17:57:52,971 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 2 hosts
2022-12-21 18:00:06,053 -  nornir.core -     INFO -        run() - Running task 'get_interfaces_dict' with args {} on 2 hosts
2022-12-21 18:00:09,368 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1046, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/client.py", line 450, in connect
    self._auth(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/client.py", line 781, in _auth
    raise saved_exception
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/client.py", line 768, in _auth
    self._transport.auth_password(username, password)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/transport.py", line 1564, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/paramiko/auth_handler.py", line 259, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/ssh_dispatcher.py", line 365, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 439, in __init__
    self._open()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 444, in _open
    self.establish_connection()
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1083, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_ios 192.168.19.102:22


Authentication failed.

2022-12-21 18:00:09,369 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'get_interfaces_dict' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 41, in get_interfaces_dict
    interfaces_result = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-12-21 18:00:10,324 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
TypeError: netmiko_send_command() missing 1 required positional argument: 'command_string'

2022-12-21 18:00:10,326 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'get_interfaces_dict' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 53, in get_interfaces_dict
    version_result = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-12-21 18:00:10,396 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 2 hosts
2022-12-21 18:10:07,984 -  nornir.core -     INFO -        run() - Running task 'get_interfaces_dict' with args {} on 2 hosts
2022-12-21 18:10:07,996 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 2 hosts
2022-12-21 18:10:46,522 -  nornir.core -     INFO -        run() - Running task 'get_interfaces_dict' with args {} on 2 hosts
2022-12-21 18:10:53,579 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
TypeError: netmiko_send_command() missing 1 required positional argument: 'command_string'

2022-12-21 18:10:53,579 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
TypeError: netmiko_send_command() missing 1 required positional argument: 'command_string'

2022-12-21 18:10:53,581 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'get_interfaces_dict' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 53, in get_interfaces_dict
    version_result = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-12-21 18:10:53,591 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'get_interfaces_dict' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 53, in get_interfaces_dict
    version_result = task.run(
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2022-12-21 18:10:53,668 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 2 hosts
2022-12-21 18:11:40,832 -  nornir.core -     INFO -        run() - Running task 'get_interfaces_dict' with args {} on 2 hosts
2022-12-21 18:11:47,636 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'get_interfaces_dict' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 61, in get_interfaces_dict
    serial = task.host["verfacts"]["serial_number"]
KeyError: 'serial_number'

2022-12-21 18:11:47,654 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'get_interfaces_dict' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 61, in get_interfaces_dict
    serial = task.host["verfacts"]["serial_number"]
KeyError: 'serial_number'

2022-12-21 18:11:47,713 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 2 hosts
2022-12-21 18:14:34,436 -  nornir.core -     INFO -        run() - Running task 'get_interfaces_dict' with args {} on 2 hosts
2022-12-21 18:14:43,397 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 2 hosts
2022-12-21 18:14:47,460 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 305, in generate_node_and_edge_dictionaries
    host = interfaces.get(key, None)['host']
TypeError: 'NoneType' object is not subscriptable

2022-12-21 18:14:47,482 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 305, in generate_node_and_edge_dictionaries
    host = interfaces.get(key, None)['host']
TypeError: 'NoneType' object is not subscriptable

2022-12-21 18:23:23,210 -  nornir.core -     INFO -        run() - Running task 'get_interfaces_dict' with args {} on 2 hosts
2022-12-21 18:23:31,062 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 2 hosts
2022-12-21 18:23:32,974 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 305, in generate_node_and_edge_dictionaries
    host = interfaces.get(key, None).get("host", None)
AttributeError: 'NoneType' object has no attribute 'get'

2022-12-21 18:23:32,978 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 305, in generate_node_and_edge_dictionaries
    host = interfaces.get(key, None).get("host", None)
AttributeError: 'NoneType' object has no attribute 'get'

2022-12-21 18:26:34,609 -  nornir.core -     INFO -        run() - Running task 'get_interfaces_dict' with args {} on 2 hosts
2022-12-21 18:26:42,282 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'get_interfaces_dict' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 77, in get_interfaces_dict
    for ip_address, intf_name in interfaces.items():
RuntimeError: dictionary changed size during iteration

2022-12-21 18:26:42,530 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 2 hosts
2022-12-21 18:26:43,629 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 311, in generate_node_and_edge_dictionaries
    new_dict["intf"].append(intf)
TypeError: list indices must be integers or slices, not str

2022-12-21 18:37:55,412 -  nornir.core -     INFO -        run() - Running task 'get_interfaces_dict' with args {} on 2 hosts
2022-12-21 18:38:03,216 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'get_interfaces_dict' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 77, in get_interfaces_dict
    for ip_address, intf_name in interfaces.items():
RuntimeError: dictionary changed size during iteration

2022-12-21 18:38:03,420 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 2 hosts
2022-12-21 18:38:05,068 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 316, in generate_node_and_edge_dictionaries
    dictionary['intf'].append(intf)
KeyError: 'intf'

2022-12-21 18:38:56,746 -  nornir.core -     INFO -        run() - Running task 'get_interfaces_dict' with args {} on 2 hosts
2022-12-21 18:39:06,710 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 2 hosts
2022-12-21 18:39:08,788 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 338, in generate_node_and_edge_dictionaries
    print(json.dumps(new_dict,indent=4))
  File "/usr/lib/python3.10/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.10/json/encoder.py", line 201, in encode
    chunks = list(chunks)
  File "/usr/lib/python3.10/json/encoder.py", line 429, in _iterencode
    yield from _iterencode_list(o, _current_indent_level)
  File "/usr/lib/python3.10/json/encoder.py", line 325, in _iterencode_list
    yield from chunks
  File "/usr/lib/python3.10/json/encoder.py", line 405, in _iterencode_dict
    yield from chunks
  File "/usr/lib/python3.10/json/encoder.py", line 405, in _iterencode_dict
    yield from chunks
  File "/usr/lib/python3.10/json/encoder.py", line 438, in _iterencode
    o = _default(o)
  File "/usr/lib/python3.10/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Host is not JSON serializable

2022-12-21 18:39:08,791 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 338, in generate_node_and_edge_dictionaries
    print(json.dumps(new_dict,indent=4))
  File "/usr/lib/python3.10/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.10/json/encoder.py", line 201, in encode
    chunks = list(chunks)
  File "/usr/lib/python3.10/json/encoder.py", line 429, in _iterencode
    yield from _iterencode_list(o, _current_indent_level)
  File "/usr/lib/python3.10/json/encoder.py", line 325, in _iterencode_list
    yield from chunks
  File "/usr/lib/python3.10/json/encoder.py", line 405, in _iterencode_dict
    yield from chunks
  File "/usr/lib/python3.10/json/encoder.py", line 405, in _iterencode_dict
    yield from chunks
  File "/usr/lib/python3.10/json/encoder.py", line 438, in _iterencode
    o = _default(o)
  File "/usr/lib/python3.10/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Host is not JSON serializable

2022-12-21 18:42:00,441 -  nornir.core -     INFO -        run() - Running task 'get_interfaces_dict' with args {} on 2 hosts
2022-12-21 18:42:07,561 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 2 hosts
2022-12-21 19:19:25,586 -  nornir.core -     INFO -        run() - Running task 'get_interfaces_dict' with args {} on 2 hosts
2022-12-21 19:19:34,464 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 2 hosts
2022-12-21 19:32:12,087 -  nornir.core -     INFO -        run() - Running task 'get_interfaces_dict' with args {} on 2 hosts
2022-12-21 19:32:25,432 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'get_interfaces_dict' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 77, in get_interfaces_dict
    for ip_address, intf_name in interfaces.items():
RuntimeError: dictionary changed size during iteration

2022-12-21 19:32:25,899 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 2 hosts
2022-12-21 19:35:08,410 -  nornir.core -     INFO -        run() - Running task 'get_interfaces_dict' with args {} on 2 hosts
2022-12-21 19:35:15,970 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 2 hosts
2022-12-21 19:35:18,232 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 350, in generate_node_and_edge_dictionaries
    "targetHandle": target_intf+target,
TypeError: unsupported operand type(s) for +: 'NoneType' and 'str'

2022-12-21 19:35:18,235 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_node_and_edge_dictionaries' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 350, in generate_node_and_edge_dictionaries
    "targetHandle": target_intf+target,
TypeError: unsupported operand type(s) for +: 'NoneType' and 'str'

2022-12-21 19:36:58,771 -  nornir.core -     INFO -        run() - Running task 'get_interfaces_dict' with args {} on 2 hosts
2022-12-21 19:37:08,876 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 2 hosts
2022-12-21 19:40:43,475 -  nornir.core -     INFO -        run() - Running task 'get_interfaces_dict' with args {} on 2 hosts
2022-12-21 19:40:51,718 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'get_interfaces_dict' failed with traceback:
Traceback (most recent call last):
  File "/home/idansimantov/projects/zero_touch/api/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/idansimantov/projects/zero_touch/api/zero_backend/zero_touch_api/nornir_netmiko_actions.py", line 77, in get_interfaces_dict
    for ip_address, intf_name in interfaces.items():
RuntimeError: dictionary changed size during iteration

2022-12-21 19:40:51,891 -  nornir.core -     INFO -        run() - Running task 'generate_node_and_edge_dictionaries' with args {} on 2 hosts
2022-12-23 11:12:51,712 -  nornir.core -     INFO -        run() - Running task 'send_show_command' with args {'command': 'show interface brief'} on 1 hosts
2022-12-23 11:13:45,998 -  nornir.core -     INFO -        run() - Running task 'send_show_command' with args {'command': 'show interface brief'} on 1 hosts
2022-12-23 11:14:03,280 -  nornir.core -     INFO -        run() - Running task 'send_show_command' with args {'command': '"show interface brief"'} on 1 hosts
2022-12-23 11:16:59,709 -  nornir.core -     INFO -        run() - Running task 'send_show_command' with args {'command': '"show ip interface brief"'} on 1 hosts
2022-12-23 11:17:09,973 -  nornir.core -     INFO -        run() - Running task 'send_show_command' with args {'command': 'show ip interface brief'} on 1 hosts
2022-12-23 11:17:59,077 -  nornir.core -     INFO -        run() - Running task 'send_show_command' with args {'command': 'show ip arp'} on 1 hosts
